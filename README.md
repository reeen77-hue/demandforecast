## モデル構築・評価・改善（今日の作業）

### ベースラインモデル（Linear Regression）
前処理済みデータ（`sales_features.csv`）を用いて、
線形回帰モデルによる需要予測を実施した。

- 目的変数：`sales_qty`
- 特徴量：
  - `is_weekend`
  - `is_sale_period`
  - `precip_mm`
  - `on_hand_qty`
  - `receipts_qty`
  - `markdown_flag`
- 評価指標：MAE（Mean Absolute Error）

結果として MAE は **約2.60** となり、
平均的な販売日では比較的安定した予測ができている一方で、
販売数量が大きい日を過小評価する傾向が確認された。

### 可視化と課題の把握
- 予測値と実績値の散布図（Actual vs Predicted）を作成
- 残差プロット（Residual Plot）を確認

残差分析の結果、
販売数量が小さい日では過大評価、
販売数量が大きい日では過小評価する
**系統的な偏り**が見られた。
これは線形回帰が非線形な関係や
特徴量の組み合わせ効果を表現できないことに起因すると判断した。

### 非線形モデルによる改善（RandomForest）
上記の課題を踏まえ、
非線形モデルである RandomForestRegressor を適用した。

- モデル：RandomForestRegressor
- 評価指標：MAE

その結果、MAE は **2.60 → 2.46** に改善し、
散布図および残差プロットにおいても
残差の系統的な偏りが軽減されていることを確認した。

本プロジェクトでは、
単に精度を追うだけでなく、
誤差の出方を分析し、
改善方針を立てられることを重視している。
